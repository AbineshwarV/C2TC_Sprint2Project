<div class="container py-5">
  <!-- REGISTRATION CARD -->
  <div class="card shadow-lg rounded-4 mx-auto mb-5 p-4" style="max-width: 720px;">
    <h3 class="text-center mb-4 fw-bold">College Database</h3>
    <form #registerForm="ngForm" (ngSubmit)="register(registerForm)" class="row g-3">
      <div class="col-md-6">
        <label for="name" class="form-label fw-semibold">Name</label>
        <input id="name" required #name="ngModel" ngModel name="name" type="text" class="form-control" placeholder="Enter college name">
        <div *ngIf="name.invalid && name.touched" class="text-danger small">Required</div>
      </div>

      <div class="col-md-6">
        <label for="location" class="form-label fw-semibold">Location</label>
        <input id="location" required #location="ngModel" ngModel name="location" type="text" class="form-control" placeholder="City">
        <div *ngIf="location.invalid && location.touched" class="text-danger small">Required</div>
      </div>

      <div class="col-md-6">
        <label for="email" class="form-label fw-semibold">Email</label>
        <input id="email" required #email="ngModel" ngModel name="email" type="email" class="form-control" placeholder="example@mail.com">
        <div *ngIf="email.invalid && email.touched" class="text-danger small">Required</div>
      </div>

      <div class="col-md-6">
        <label for="phoneNumber" class="form-label fw-semibold">Phone</label>
        <input id="phoneNumber" required #phoneNumber="ngModel" ngModel name="phoneNumber" type="text" class="form-control" placeholder="+91-9876543210">
        <div *ngIf="phoneNumber.invalid && phoneNumber.touched" class="text-danger small">Required</div>
      </div>

      <div class="col-md-6">
        <label for="establishedYear" class="form-label fw-semibold">Established Year</label>
        <input id="establishedYear" #establishedYear="ngModel" ngModel name="establishedYear" type="number" class="form-control" placeholder="1990">
      </div>

      <div class="col-md-6 form-check d-flex align-items-center mt-4">
        <input id="autonomous" #autonomous="ngModel" ngModel name="autonomous" type="checkbox" class="form-check-input me-2">
        <label class="form-check-label fw-semibold" for="autonomous">Autonomous</label>
      </div>

      <div class="col-md-6">
        <label for="affiliation" class="form-label fw-semibold">Affiliation</label>
        <input id="affiliation" #affiliation="ngModel" ngModel name="affiliation" type="text" class="form-control" placeholder="Affiliated University">
      </div>

      <div class="col-md-6">
        <label for="website" class="form-label fw-semibold">Website</label>
        <input id="website" #website="ngModel" ngModel name="website" type="url" class="form-control" placeholder="https://example.com">
      </div>

      <div class="col-12 text-center mt-3">
        <button class="btn btn-primary px-5 btn-modern" type="submit">Submit</button>
      </div>
    </form>
  </div>

  <!-- TABLE CARD -->
  <div class="card shadow-lg rounded-4 p-3">
    <h4 class="text-center fw-bold mb-3">Registered Colleges</h4>
    <div class="table-responsive">
      <table class="table table-hover align-middle text-center modern-table">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Location</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Year</th>
            <th>Autonomous</th>
            <th>Affiliation</th>
            <th>Website</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let college of collegeDetails">
            <td>{{college.id}}</td>
            <td>{{college.name}}</td>
            <td>{{college.location}}</td>
            <td>{{college.email}}</td>
            <td>{{college.phoneNumber}}</td>
            <td>{{college.establishedYear}}</td>
            <td>
              <span class="badge bg-success" *ngIf="college.autonomous">Yes</span>
              <span class="badge bg-secondary" *ngIf="!college.autonomous">No</span>
            </td>
            <td>{{college.affiliation}}</td>
            <td>
              <a [href]="college.website" target="_blank">{{college.website}}</a>
            </td>
            <td>
              <button class="btn btn-sm btn-info btn-modern" data-bs-toggle="modal" data-bs-target="#updateModal" (click)="edit(college)">Edit</button>
            </td>
            <td>
              <button class="btn btn-sm btn-danger btn-modern" (click)="deleteCollege(college)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- MODAL: Update College -->
  <div class="modal fade" id="updateModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content rounded-4 shadow">
        <div class="modal-header border-0">
          <h5 class="modal-title fw-bold">Update College</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form #updateForm="ngForm" (ngSubmit)="updateCollege()" class="row g-3">

            <div class="col-md-6">
              <label class="form-label fw-semibold">Name</label>
              <input [(ngModel)]="collegeToUpdate.name" name="name" type="text" class="form-control" required>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-semibold">Location</label>
              <input [(ngModel)]="collegeToUpdate.location" name="location" type="text" class="form-control" required>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-semibold">Email</label>
              <input [(ngModel)]="collegeToUpdate.email" name="email" type="email" class="form-control" required>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-semibold">Phone</label>
              <input [(ngModel)]="collegeToUpdate.phoneNumber" name="phoneNumber" type="text" class="form-control" required>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-semibold">Established Year</label>
              <input [(ngModel)]="collegeToUpdate.establishedYear" name="establishedYear" type="number" class="form-control">
            </div>

            <div class="col-md-6 form-check mt-4">
              <input [(ngModel)]="collegeToUpdate.autonomous" name="autonomous" type="checkbox" class="form-check-input" id="updateAutonomous">
              <label class="form-check-label fw-semibold" for="updateAutonomous">Autonomous</label>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-semibold">Affiliation</label>
              <input [(ngModel)]="collegeToUpdate.affiliation" name="affiliation" type="text" class="form-control">
            </div>

            <div class="col-md-6">
              <label class="form-label fw-semibold">Website</label>
              <input [(ngModel)]="collegeToUpdate.website" name="website" type="url" class="form-control">
            </div>

            <div class="col-12 text-center mt-3">
              <button class="btn btn-primary px-5 btn-modern" type="submit">Update</button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
